name: craftctl
version: "1.0"
summary: test
description: craftctl
grade: devel
confinement: strict
adopt-info: hello
base: SNAPCRAFT_BASE
build-base: SNAPCRAFT_BUILD_BASE

parts:
  hello:
    plugin: nil
    override-pull: |
      echo -e "#!/usr/bin/env bash\necho hello" > hello.sh
      chmod +x hello.sh
      # we only set the 'version' and not the 'grade' here because projects
      # with 'devel' build-base can only have 'devel' grade. We can update
      # this when core24 is stable.
      craftctl set version="22"
    override-build: |
      craftctl get version | grep 22
      echo "This is the build step"
      cp hello.sh "$CRAFT_PART_INSTALL"/
